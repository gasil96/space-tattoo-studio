<!DOCTYPE html>
<html layout:decorate="~{layout-principal}">
<head>
<meta charset="UTF-8" />
<body>

<div layout:fragment="corpo">
	<div id="editarNovoAgendamento" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade text-left" >
		<div role="document" class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<strong id="tituloModalNovoAgendamento" class="modal-title">Alterar Agendamento</strong>
					<button type="button" data-dismiss="modal" aria-label="Close" class="close">
						<span aria-hidden="true">×</span>
					</button>
				</div>

				<div class="modal-body">
					
					<form th:action="@{/agendamento/editar}" th:object="${servico}"	method="POST">
						<div class="form-group">
							<label for="tipoServico">Selecione o tipo de agendamento</label>
							<select id="selectTipoServico" class="form-control"	th:field="*{tipoServico}">
								<option th:each="ts : ${tipoagendamento}" th:value="${ts}" th:text="${ts.tipoServico}">ATIVO</option>
							</select>
						</div>

						<div class="form-group">
							<label>Data/Horário</label> 
							<div class="input-group date" id="horarioAgendamento" data-target-input="nearest">
			                    <input type="text" class="form-control " data-target="#horarioAgendamento" th:field="*{horarioAgendamento}">
			                    <div class="input-group-append" data-target="#horarioAgendamento" data-toggle="datetimepicker">
			                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
			                    </div>
			                </div>
						</div>
						<div class="form-group">
							<label for="tipoServico">Status</label>
							<select	 id="selectStatusServico" class="form-control" th:field="*{statusAgendamento}" required="required">
								<option value="" selected="selected">Selecione</option>
								<option th:each="ss : ${statusagendamento}" th:value="${ss}" th:text="${ss.statusServico}">ATIVO</option>
							</select>
						</div>
						<input type="hidden" class="form-control" id="idS" th:field="*{id}" placeholder="id agendamento">
						<input type="hidden" class="form-control" id="idC"	th:field="*{cliente.id}">

						<div class="modal-footer">
							<button role="button"
						class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
							<button type="submit" class="btn btn-primary">Alterar</button>
						</div>
					</form>
					
				</div>
			</div>
		</div>
	</div>
	
	</div>
	<script type="text/javascript" layout:fragment="script">
	$(document).ready(function() {
	    $('#editarNovoAgendamento').modal('show');
	
	    $('#editarNovoAgendamento').on('hide.bs.modal', function () { window.location.href = '/agendamento/detalhamento'; })
	})
	
	$(function () {
        $('#horarioAgendamento').datetimepicker({
      	  format: 'DD-MM-YYYY HH:mm', 
      	  autoclose: true,
      	  locale: 'pt-BR',
      	  minDate: new Date()
        });
    });

	</script>
</body>
</html>