<!DOCTYPE html>
<html layout:decorate="~{layout-principal}">
<head>
<meta charset="UTF-8" />
<body>


	<div id="novoUsuario" tabindex="-1" role="dialog"	aria-labelledby="exampleModalLabel" aria-hidden="true"	class="modal fade text-left" th:fragment="modalNovoUsuario">
		<div role="document" class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<strong id="titvuloModalNovoCliente" class="modal-title">Novo usuário do sistema</strong>
					<button type="button" data-dismiss="modal" aria-label="Close"
						class="close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">
					
					 <form th:action="@{/salvar-usuario}" method="POST" th:object="${usuario}">
                      <div class="form-group">
                        <label for="nome" class="form-control-label">Nome</label>
                        <input id="nome" type="text"  class="mr-sm-3 form-control" th:field="*{nomeCompleto}" required="required">
                      </div>
                      <div class="form-group">
                        <label for="login" class="form-control-label">Login</label>
                        <input id="login" type="text"  class="mr-sm-3 form-control" th:field="*{login}" required="required">
                      </div>
                      <div class="form-group">
                        <label for="password" class="form-control-label">Senha</label>
                        <input id="password" type="password"  class="mr-sm-3 form-control form-control" required="required">
                      </div>
                       <div class="form-group">
                        <label for="confirm_password" class="form-control-label">Confirmar Senha</label>
                        <input id="confirm_password" type="password"  class="mr-sm-3 form-control form-control" th:field="*{senha}" required="required">
                      </div>
                      
                      <div class="form-group"> 
                        <label for="usuarios" class="form-control-label">Permissão de acesso</label>
                       		 <select	 id="role" class="mr-sm-3 form-control form-control" th:field="*{roles}" required="required">
								<option value="" selected="selected">Selecione...</option>
								<option th:each="r : ${tiporole}" th:value="${r}" th:text="${r.role}">ROLE_ADMIN</option>
							</select>
                      </div>
                      <div class="form-group">
                        <input type="submit" value="Salvar" class="btn btn-primary" >
                      </div>
                    </form>
					
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" layout:fragment="script">
	var password = document.getElementById("password")
	  , confirm_password = document.getElementById("confirm_password");

	function validatePassword(){
	  if(password.value != confirm_password.value) {
	    confirm_password.setCustomValidity("Senhas diferentes!");
	  } else {
	    confirm_password.setCustomValidity('');
	  }
	}
	password.onchange = validatePassword;
	confirm_password.onkeyup = validatePassword;
	</script>
</body>
</html>